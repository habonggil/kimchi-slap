<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>김치싸다구 - 철학자가 대신 때려드립니다</title>
    
    <!-- SNS 공유용 메타 태그 -->
    <meta property="og:title" content="김치싸다구 - 철학자가 대신 때려드립니다">
    <meta property="og:description" content="스트레스를 철학으로 날려버리세요!">
    <meta property="og:image" content="https://habonggil.github.io/kimchi-slap/Slap_Kimchi_GIF_by_kwaesam.gif">
    <meta property="og:image:type" content="image/gif">
    <meta property="og:url" content="https://habonggil.github.io/kimchi-slap/">
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #fce4ec;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 1rem;
            flex: 1;
        }
        
        .header {
            text-align: center;
            padding: 2rem 0;
        }
        
        .header h1 {
            font-size: 3rem;
            font-weight: 900;
            color: #dc2626;
            text-shadow: 3px 3px 0px #ff6b6b, 6px 6px 10px rgba(0,0,0,0.3);
            letter-spacing: -0.05em;
            animation: pulse 2s ease-in-out infinite;
            margin: 0;
        }
        
        .header p {
            color: #6b7280;
            margin-top: 0.5rem;
        }
        
        .card {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .btn {
            background-color: #dc2626;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 6px rgba(220, 38, 38, 0.3);
        }
        
        .btn:hover {
            background-color: #b91c1c;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(220, 38, 38, 0.4);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-secondary {
            background-color: #6b7280;
            box-shadow: 0 4px 6px rgba(107, 114, 128, 0.3);
        }
        
        .btn-secondary:hover {
            background-color: #4b5563;
        }
        
        /* 타겟 선택 스타일 */
        .target-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }
        
        @media (max-width: 640px) {
            .target-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        .target-category {
            font-size: 0.875rem;
            font-weight: bold;
            color: #6b7280;
            margin-bottom: 0.5rem;
            margin-top: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .target-btn {
            padding: 1rem 0.5rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.75rem;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            font-size: 0.875rem;
            position: relative;
            overflow: hidden;
        }
        
        .target-btn:hover {
            border-color: #dc2626;
            background: #fee2e2;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(220, 38, 38, 0.2);
        }
        
        .target-btn.selected {
            border-color: #dc2626;
            background: #fee2e2;
            box-shadow: 0 4px 15px rgba(220, 38, 38, 0.2);
        }
        
        .target-btn .emoji {
            font-size: 2rem;
            margin-bottom: 0.25rem;
            display: block;
        }
        
        .name-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            font-size: 1rem;
            transition: all 0.2s;
            margin-bottom: 1rem;
        }
        
        .name-input:focus {
            outline: none;
            border-color: #dc2626;
        }
        
        /* 김치싸다구 화면 */
        .slap-result {
            text-align: center;
        }
        
        .slap-gif {
            width: 100%;
            max-width: 400px;
            height: 300px;
            object-fit: contain;
            border-radius: 0.5rem;
            margin: 1rem 0;
        }
        
        .insult-text {
            font-size: 1.5rem;
            font-weight: bold;
            color: #dc2626;
            margin: 1rem 0;
            line-height: 1.5;
        }
        
        .combo-display {
            font-size: 2rem;
            font-weight: bold;
            color: #f97316;
            margin: 1rem 0;
        }
        
        /* 애니메이션 */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        /* 유틸리티 클래스 */
        .text-center { text-align: center; }
        .text-sm { font-size: 0.875rem; }
        .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.25rem; }
        .text-2xl { font-size: 1.5rem; }
        .text-6xl { font-size: 3.75rem; }
        .text-gray { color: #6b7280; }
        .text-red { color: #dc2626; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mt-4 { margin-top: 1rem; }
        .flex { display: flex; }
        .gap-4 { gap: 1rem; }
        .justify-center { justify-content: center; }
        
        .footer {
            text-align: center;
            padding: 2rem 1rem;
            color: #6b7280;
            font-size: 0.875rem;
        }
        
        .footer a {
            color: #dc2626;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- <div class="header">
    <h1>김치싸다구 <span style="font-size: 2.5rem;">🌶️💥</span></h1>
</div> -->
        
        <div id="app"></div>
        
        <div class="footer">
            『침실에서 읽는 서양철학사』 × 김치싸다구<br>
            Made with 💕 by 하윤 & 감독님
        </div>
    </div>
    
    <script>
        // 상태 관리
        const state = {
            currentStep: 'intro',
            target: null,
            targetType: '',
            targetName: '',
            slapCount: parseInt(localStorage.getItem('slapCount') || '0'),
            comboCount: 0,
            lastSlapTime: 0
        };
        
        // 타겟 데이터
        const targetCategories = {
            work: {
                name: '직장편',
                targets: {
                    boss: { name: '상사', emoji: '👔', desc: '갑질 부장' },
                    teamLead: { name: '팀장', emoji: '📊', desc: '일만 시키는' },
                    hr: { name: '인사팀', emoji: '📋', desc: '연봉 동결' },
                    client: { name: '거래처', emoji: '💼', desc: '진상 클라이언트' }
                }
            },
            school: {
                name: '학교편',
                targets: {
                    professor: { name: '교수', emoji: '👨‍🏫', desc: '꼰대 교수' },
                    assistant: { name: '조교', emoji: '📚', desc: '권력 남용' },
                    senior: { name: '선배', emoji: '🎓', desc: '군기 잡는' },
                    classmate: { name: '동기', emoji: '👥', desc: '뒷담화 전문' }
                }
            },
            daily: {
                name: '일상편',
                targets: {
                    motherInLaw: { name: '시어머니', emoji: '👵', desc: '잔소리 폭탄' },
                    relative: { name: '친척', emoji: '👨‍👩‍👧‍👦', desc: '결혼은 언제?' },
                    neighbor: { name: '이웃', emoji: '🏘️', desc: '층간소음' },
                    delivery: { name: '배달기사', emoji: '🛵', desc: '음식 엎은' }
                }
            },
            online: {
                name: '온라인편',
                targets: {
                    troll: { name: '악플러', emoji: '🧌', desc: '키보드 워리어' },
                    scammer: { name: '사기꾼', emoji: '🦹‍♂️', desc: '중고거래 먹튀' },
                    spammer: { name: '스팸', emoji: '📧', desc: '광고 도배범' },
                    hacker: { name: '해커', emoji: '💻', desc: '계정 털이범' }
                }
            },
            special: {
                name: '특별편',
                targets: {
                    ex: { name: '전애인', emoji: '💔', desc: '잊을 수 없는' },
                    myself: { name: '나 자신', emoji: '🪞', desc: '자괴감 폭발' },
                    ai: { name: 'AI', emoji: '🤖', desc: '에러만 내는' },
                    custom: { name: 'Custom', emoji: '✏️', desc: '직접 입력' }
                }
            }
        };
        
      // 욕 데이터 (콤보에 따라 강도 증가)
const philosopherInsults = {
    level1: [
        // 기존 MZ 욕들
        "너 자신을 알라? 넌 몰라도 돼! 어차피 별 볼 일 없어!",
        "이데아? 니 머릿속엔 공기만! 진공청소기야?",
        "중용? 넌 그냥 극단적 바보! 스펙트럼 밖이야!",
        "생각을 안 해서 존재가 없어! 404 Not Found!",
        "님은 자연의 버그! 패치 불가능!",
        "님 없는 세계가 최선! 평화가 온다!",
        "인생 로그아웃 추천! 재접속은 사양!",
        "님은 현실 서버 에러! 강제 종료 대상!",
        "걸어다니는 광고 차단 대상!",
        "님은 인생 스킵 광고! 5초도 아까워!",
        
        // 소크라테스
        "Γνῶθι σεαυτόν? 너 자신을 알라고? 니는 모르는 게 낫다!",
        "무지의 지(Οἶδα οὐκ εἰδώς)? 니는 그냥 무지! 끝!",
        "변론(Ἀπολογία)? 니 인생은 변론 불가! 유죄!",
        
        // 플라톤
        "이데아(ἰδέα)? 니 이데아는 똥멍청이!",
        "동굴의 비유? 니는 동굴 밖으로 나가지 마! 민폐야!",
        
        // 아리스토텔레스
        "중용(μεσότης)? 니는 극단적 쓰레기!",
        "목적인(τέλος)? 니 존재 목적은 없어!",
        
        // 데카르트
        "Cogito ergo sum? 니는 생각 안 하니까 없는 거야!",
        "방법적 회의? 니 존재는 의심할 필요도 없어! 확실한 쓰레기!",
        
        // 칸트
        "정언명령(Kategorischer Imperativ)? 니한텐 '꺼져'가 정언명령!",
        "물자체(Ding an sich)? 니는 쓰레기 자체!",
        
        // 헤겔
        "정반합(These-Antithese-Synthese)? 니는 정쓰레기-반쓰레기-합쓰레기!",
        "절대정신(Absoluter Geist)? 니는 절대멍청이!"
    ],
    
    level2: [
        // 기존 MZ 욕들
        "씨발 니 존재가 스팸이야! 신고 들어간다!",
        "개쩌는 쓰레기! 분리수거도 거부당함!",
        "니 인생 남은 용량 0MB! 삭제 대기중!",
        "존재 자체가 악성코드! 백신도 포기!",
        "니는 댓글창 테러범! IP 차단감!",
        "걸어다니는 렉! 주변 다 버벅임!",
        "니 인생 별점 0.1! 리뷰도 없음!",
        "현생 망겜! 다음 생도 기대 안 됨!",
        "니는 몸값 마이너스! 돈 줘도 안 데려감!",
        "존재가 디버프! 파티에서 강퇴!",
        
        // 니체
        "신은 죽었다(Gott ist tot)! 근데 니 양심은 태어나지도 않았어!",
        "초인(Übermensch)? 니는 초-폐인! 언더멘쉬!",
        "영원회귀(Ewige Wiederkunft)? 니는 한 번만으로도 과분해!",
        "권력의지(Wille zur Macht)? 니는 무력의지!",
        
        // 사르트르
        "존재는 본질에 앞선다(L'existence précède l'essence)? 니는 존재도 본질도 쓰레기!",
        "타인은 지옥(L'enfer, c'est les autres)? 아니야, 니가 지옥이야!",
        "구토(La Nausée)? 니 보면 진짜 구토 나와!",
        
        // 카뮈
        "부조리(L'Absurde)? 니 존재가 부조리의 극치!",
        "시지프스? 니는 바위도 못 굴려! 그냥 깔려!",
        
        // 쇼펜하우어
        "의지와 표상(Wille und Vorstellung)? 니는 쓰레기 의지와 똥 표상!",
        "염세주의? 니 보면 누구나 염세주의자 돼!",
        
        // 하이데거
        "존재와 시간(Sein und Zeit)? 니는 무존재와 낭비!",
        "Dasein? 니는 Da-못-sein! 거기 있지 마!",
        
        // 비트겐슈타인
        "말할 수 없는 것(Wovon man nicht sprechen kann)? 니 존재가 그거야!",
        "언어게임(Sprachspiel)? 니랑은 대화도 게임도 불가!"
    ],
    
    level3: [
        // 기존 MZ 욕들
        "니 부모 가챠 대실패! SSS급 불효자 뽑음!",
        "신이 너 만들고 서버 롤백하려 했대!",
        "니 존재가 인류 역사상 최악의 밈!",
        "태어난 게 스포일러! 결말은 망작!",
        "니 인생 시청률 0%! 조기종영 확정!",
        "걸어다니는 국민청원 대상! 100만 돌파!",
        "니가 숨쉬면 지구 온난화 가속!",
        "존재 자체가 인류에 대한 어그로!",
        "니 유전자가 인류 진화 방해물!",
        "블랙홀도 니는 안 빨아들임! 우주 쓰레기!",
        
        // 디오게네스
        "Γαμώ! Μαλάκα! 씨발 병신아! 개도 니보단 나아!",
        "햇빛 가리지 마(μή μου τὸν ἥλιον ἀποσκότει)! 니 그림자도 오염이야!",
        "인간 찾는다고? 니는 제외야! 인간 아니거든!",
        
        // 마르크스
        "프롤레타리아트? 니는 쓰레기타리아트!",
        "자본론(Das Kapital)? 니 가치는 마이너스 자본!",
        "잉여가치(Mehrwert)? 니는 잉여도 아냐! 그냥 폐기물!",
        
        // 프로이트
        "이드(Es), 자아(Ich), 초자아(Über-Ich)? 니는 전부 똥!",
        "오이디푸스 콤플렉스? 니 엄마도 널 부정해!",
        "리비도(Libido)? 니한텐 아무도 안 느껴!",
        
        // 융
        "집단무의식(Kollektives Unbewusstes)? 인류 전체가 널 거부해!",
        "페르소나(Persona)? 니 모든 면이 쓰레기야!",
        "그림자(Schatten)? 니 그림자도 널 떠났어!",
        
        // 라캉
        "욕망(Désir)? 아무도 널 욕망하지 않아!",
        "상징계, 상상계, 실재계? 니는 쓰레기계!",
        "타자(Autre)? 니는 영원한 타자! 소외!",
        
        // 푸코
        "권력(Pouvoir)? 니한텐 무력만 있어!",
        "감시와 처벌(Surveiller et punir)? 니는 처벌만 받아!",
        "광기의 역사? 니가 그 역사의 정점!"
    ]
};
        
       // GIPHY 싸다구 GIF URL들 (총 42개)
const slapGifs = [
    // 기존 10개
    "https://media.giphy.com/media/xT0BKiwgIPGShJNi0g/giphy.gif",
    "https://media.giphy.com/media/Zau0yrl17uzdK/giphy.gif",
    "https://media.giphy.com/media/wOXQvz3FwajVm/giphy.gif",
    "https://media.giphy.com/media/3XlEk2RxPS1m8/giphy.gif",
    "https://media.giphy.com/media/mEtSQlxqBtWWA/giphy.gif",
    "https://media.giphy.com/media/j3iGKfXRKlLqw/giphy.gif",
    "https://media.giphy.com/media/uqSU9IEYEKAbS/giphy.gif",
    "https://media.giphy.com/media/Ql5voX2wAVUYw/giphy.gif",
    "https://media.giphy.com/media/RXKCMLmch5W2Q/giphy.gif",
    "https://media.giphy.com/media/s5zXKfeXaa6ZO/giphy.gif",
    
    // 첫 번째 추가 8개
    "https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExeGRrOHJvNm0waXRmZjYwMjlldnRlMHJuczFla2Fha2d5aGxhdTBvNiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/uG3lKkAuh53wc/giphy.gif",
    "https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExeDA5amlzdmZmY2JpMHhnZG1hbHNyYmJoY2FhbzJyamc4amNrdDR0eSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/4maPzsZTtsMsE/giphy.gif",
    "https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExZzR6aGdrYzh3Z2hncWE4czd6M2Z1eHVwYzFsMnJtbWFwMWxsd21sZiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/QFacpnPZwIqXe/giphy.gif",
    "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExMjMzZXhxbGY4dGw2Zm11enU1azBvNWJqMGkzczd3Z2F2b24xYTFwcSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/qIFN1Y9XE7CpO/giphy.gif",
    "https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExdzI0YXY1bno0djl3OWZ0MHg0MnpneW14OHgwbTd2aTFnNng4ZHFodCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/gL9Yb3E4DuCc/giphy.gif",
    "https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExMHltdW5panJ6djk5Z2tnYm0wMDFlNTI0dmRtdTBuN2lnd2YxMW40biZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/kGp1x2hGViJoHrYOM3/giphy.gif",
    "https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExeHkyazFwanR1ZWdxZWNsaTc4bmoxN3VwZ3V4M3Awc2hrOXJycGtrbSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3o752gPI09ZLYk84Ok/giphy.gif",
    "https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExZ3J4ZmUydGJjNjBrYWFhdzFremw4dHpwcWdqeGRnb21tODd0eDY3bSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/k8HEN7qfZ23cI/giphy.gif",
    
    // 두 번째 추가 24개
    "https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExZ3FlOWU4dGZmMWFybGg5N3hiMGVjbXd4d2tmMmRhYjluN3Zvamt6OSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Qumf2QovTD4QxHPjy5/giphy.gif",
    "https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExanZ1MnhkZW83eXZ1eXNzNTM1dXRwdTh1c3o0dmNncjJmbG9ybXk1YyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/26xBCZtVWO8q1R0k0/giphy.gif",
    "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExajN4cTFiZGlvNTRhdGxpc3l1NWQ2cHpwNXJ4aXhuMDExdjRkMzc0aCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/pfGBhQSaYAO5y/giphy.gif",
    "https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExaGczbTEzMmw5OXdrc3N5ZGdoMWp1NTR4ZGMzYzVrdmwwYnpkeHAzOSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/UbzayP2FNPWbm/giphy.gif",
    "https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExZ201bmszMW9vdXdsZHBkbDJhbWs2NWZlcjNoY3BpMnFhNDJpdWlxciZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/K3ZjR6Dc22t9e/giphy.gif",
    "https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExZjcyZDN1eTU5dWUzMmNkM3lkZnc3bHB1cmRlYmh1ZTVxNXdvNjIybCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/htiVRuP7N0XK/giphy.gif",
    "https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExM2UxbTY4dmE3emV3NnAxNmhvY3d6bDU5cWY4cTNkM2g5cXNpeXRzcCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/ixPXLRd8CbkEAr9OBI/giphy.gif",
    "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExYTFkeDE2YzQ5Yzlnd2VuejIzdmdzNTF3OXcwcHo5MmlhNjFzbHVpbyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/lSZDrBZVHLy7yVITht/giphy.gif",
    "https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExcTZ0MXlweTc5YnhzNHVzOTRoZGdjYzAyeHZkMTU2Y3d6a3RxNzF0ZSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/dUrwQ4E1oXfWLG1ud2/giphy.gif",
    "https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExbDN1Z2JzZGx1cWgyMnM5anNna3IwaHA1c2lwdnBlZDFpcGo2bThrcSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/f8bneGREfe0cbtHq0l/giphy.gif",
    "https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExZGozMDljd3lnMGZvMXJ6aW54bWozZDhuazFqNWozY211cDVlcWZjYSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/xT9KVGie0lvAr1gjNC/giphy.gif",
    "https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExeHNvYzU3ZG1vOWxhMzY0YThzZzF6MGh2OHBzaXFmaDNnbGZwdjQ2cSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/lCUbIxFdMzcZ2/giphy.gif",
    "https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHc5cXBmdGV6eDRiMmxnanYzcHVjNDRpNGg5dmFsZWs0aG9qZWVvYyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/l0Iyey3m9aNlZs5i0/giphy.gif",
    "https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExNDduemdodzFyaGdrdGgyMmd0MHU1ZHpuZGJubTl1NmVyNnBjMm8zbCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/YhHSjXadL2eOc3T2Ww/giphy.gif",
    "https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExc2Fnc2s3bzZ3bDA1cmVhMDMxNDExMXZpNTR2bHo5d3ZucHgyOHc1MyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/KbHJfvwP3qCZitAdl5/giphy.gif",
    "https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExbDAxbmo2ZGRzbjlhNWp2MW96YXc2NGs5MTBjNnRydXVzcDhtczZnZiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/dYLWFqSfCKWB5C8MEw/giphy.gif",
    "https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExMXFqaTBtazdtZ2VwaXEwOWplZjM3Z3o1MGs5MWhjdjc1YnpiM2VwOSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/rzkNecsVThtjG/giphy.gif",
    "https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExMTJ1aXowY3ZrbXJ1bXllY3Z1MjV4N3JhdDZva2FocXVlZ2dpbXVociZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/jLPjEjSVBGLi8/giphy.gif",
    "https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExdGJyOHAwdW0zb3luamVnc3J0dTN3YW5zMHk4ZXR1eW45OXRieGp4NiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/CXY0077rLFoCuSeKzc/giphy.gif",
    "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExOXp5a21haTNrN2xuZzF2bDkzczZkdGpkcnN6am5hY2MxYnF4Ymt3eCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/siS34ziU0gxsQ/giphy.gif",
    "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExbzZkYmNkajhidm9xMHNjZzN6ajByOHlpNmVqMzg1ajVoMnJtYWRiOSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/F0E72ofVJFEGc/giphy.gif",
    "https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExMGQ3dWMzbzlydWtod29vcGwwMGdqaXl0N2o2Y3JkZDFxc3I4aTVsNSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Lon6a0ZCi5wDsNHfoJ/giphy.gif",
    "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExam5na2JncDZoYmJybGRnaTVscWdybW84aGZudmFnM3BsNHQ2YnoydyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/l0DEKJR3cVsftUUPm/giphy.gif"
];
        
        // 렌더링 함수
        function render() {
            const app = document.getElementById('app');
            
            switch(state.currentStep) {
                case 'intro':
                    renderIntro(app);
                    break;
                case 'target':
                    renderTarget(app);
                    break;
                case 'slap':
                    renderSlap(app);
                    break;
            }
        }
        
        // 인트로 화면
        function renderIntro(app) {
            app.innerHTML = `
                <div class="card text-center">
                    <style>
                        @keyframes shake {
                            0%, 100% { transform: translateX(0); }
                            25% { transform: translateX(-5px); }
                            75% { transform: translateX(5px); }
                        }
                    </style>
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <h1 style="
                            font-size: 4rem;
                            font-weight: 900;
                            background: linear-gradient(45deg, #ff6b6b, #ff8787, #ffa8a8);
                            -webkit-background-clip: text;
                            -webkit-text-fill-color: transparent;
                            background-clip: text;
                            text-shadow: 3px 3px 10px rgba(255,107,107,0.3);
                            letter-spacing: -0.05em;
                            margin: 0;
                            animation: pulse 2s ease-in-out infinite;
                        ">김치싸다구</h1>
                        <div style="
                            font-size: 2rem;
                            margin-top: -10px;
                            animation: shake 2s ease-in-out infinite;
                        ">🌶️💥</div>
                    </div>
                    
                    <div class="text-6xl mb-4">💥</div>
                    <h2 class="text-2xl mb-4"><b>스트레스를 철학으로</b><br>날려버리세요!</h2>
                    <p class="text-gray mb-6">위대한 철학자들이<br>당신을 대신해 정적 더 세게 김치싸다구를!</p>
                    
                    <div class="mb-4" style="height: 300px; width: 100%; max-width: 500px; margin: 0 auto; overflow: hidden; border-radius: 0.5rem; background: #f3f4f6; display: flex; align-items: center; justify-content: center;">
                        <img src="Slap Kimchi GIF by kwaesam.gif" 
                             alt="김치싸다구 미리보기"
                             style="width: 100%; height: auto; object-fit: cover;">
                    </div>
                    
                    <div class="text-center">
                        <button class="btn" onclick="changeStep('target')">시작하기</button>
                        <div class="mt-4 text-sm text-gray text-center">
                            누적 김치싸다구: ${(12345 + state.slapCount).toLocaleString()}회
                        </div>
                    </div>
                </div>
            `;
        }
        
        // 타겟 선택 화면
        function renderTarget(app) {
            app.innerHTML = `
                <div class="card">
                    <h2 class="text-2xl text-center mb-6"><b>누구를 때릴까요?</b></h2>
                    
                    ${Object.entries(targetCategories).map(([categoryKey, category]) => `
                        <div>
                            <div class="target-category">${category.name}</div>
                            <div class="target-grid">
                                ${Object.entries(category.targets).map(([key, target]) => `
                                    <button class="target-btn ${state.target === key ? 'selected' : ''}" 
                                            onclick="selectTarget('${key}', '${target.name}')">
                                        <span class="emoji">${target.emoji}</span>
                                        <div><b>${target.name}</b></div>
                                        <div class="text-sm text-gray">${target.desc}</div>
                                    </button>
                                `).join('')}
                            </div>
                        </div>
                    `).join('')}
                    
                    ${state.target ? `
                        <div class="mt-4">
                            <input type="text" 
                                   class="name-input"
                                   placeholder="${state.target === 'custom' ? '직접 입력' : state.targetType + ' 이름을 입력하세요'}"
                                   value="${state.targetName}"
                                   onchange="updateTargetName(this.value)"
                                   maxlength="10">
                            <button class="btn" style="width: 100%;" 
                                    onclick="proceedToSlap()">
                                김치싸다구 날리기!
                            </button>
                        </div>
                    ` : ''}
                </div>
            `;
        }
        
        // 김치싸다구 화면
        function renderSlap(app) {
            const randomGif = slapGifs[Math.floor(Math.random() * slapGifs.length)];
            const insult = getInsultByCombo();
            
            app.innerHTML = `
                <div class="card slap-result">
                    <h2 class="text-2xl mb-4"><b>김치싸다구!</b></h2>
                    <p class="text-lg mb-4">"${state.targetName || '그놈'}" 에게</p>
                    
                    ${state.comboCount > 0 ? `
                        <div class="combo-display animate-shake">
                            🔥 ${state.comboCount} COMBO!
                        </div>
                    ` : ''}
                    
                    <img src="${randomGif}" 
                         alt="싸다구!" 
                         class="slap-gif">
                    
                    <div class="insult-text">
                        "${insult}"
                    </div>
                    
                    <p class="text-sm text-gray mb-4">
                        총 ${state.slapCount}대째 때리는 중!
                    </p>
                    
                    <div class="flex gap-4 justify-center">
                        <button class="btn" onclick="continueSlap()">더 때리기</button>
                        <button class="btn btn-secondary" onclick="shareResult()">공유하기</button>
                    </div>
                    
                    <button class="mt-4 text-sm text-gray" onclick="resetToStart()">처음으로</button>
                </div>
            `;
        }
        
        // 액션 함수들
        function changeStep(step) {
            state.currentStep = step;
            render();
        }
        
        function selectTarget(targetKey, targetType) {
            state.target = targetKey;
            state.targetType = targetType;
            render();
        }
        
        function updateTargetName(name) {
            state.targetName = name;
        }
        
        function proceedToSlap() {
            if (!state.targetName.trim()) {
                alert('이름을 입력해주세요!');
                return;
            }
            
            // 콤보 체크
            const now = Date.now();
            if (now - state.lastSlapTime < 3000) {
                state.comboCount++;
            } else {
                state.comboCount = 0;
            }
            state.lastSlapTime = now;
            
            state.slapCount++;
            localStorage.setItem('slapCount', state.slapCount);
            changeStep('slap');
        }
        
        function continueSlap() {
            proceedToSlap();
        }
        
        function getInsultByCombo() {
            let insults;
            if (state.comboCount >= 10) {
                insults = philosopherInsults.level3;
            } else if (state.comboCount >= 5) {
                insults = philosopherInsults.level2;
            } else {
                insults = philosopherInsults.level1;
            }
            return insults[Math.floor(Math.random() * insults.length)];
        }
        
        function resetToStart() {
            state.currentStep = 'intro';
            state.target = null;
            state.targetType = '';
            state.targetName = '';
            state.comboCount = 0;
            render();
        }
        
        function shareResult() {
            const shareText = `김치싸다구 ${state.slapCount}대째!
"${state.targetName}"에게: "${getInsultByCombo()}"
${state.comboCount > 0 ? `🔥 ${state.comboCount} COMBO!` : ''}

#김치싸다구 #스트레스해소 #철학자의분노
https://habonggil.github.io/kimchi-slap/`;
            
            // 모바일 공유 API
            if (navigator.share) {
                navigator.share({
                    title: '김치싸다구',
                    text: shareText,
                    url: 'https://habonggil.github.io/kimchi-slap/'
                }).catch(err => {
                    // 공유 취소시 무시
                });
            } else {
                // PC: 클립보드 복사
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('공유 텍스트가 복사되었습니다!\n카톡이나 SNS에 붙여넣기 하세요!');
                }).catch(() => {
                    // 구형 브라우저 대응
                    const textarea = document.createElement('textarea');
                    textarea.value = shareText;
                    document.body.appendChild(textarea);
                    textarea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textarea);
                    alert('공유 텍스트가 복사되었습니다!');
                });
            }
        }
        
        // 초기화
        document.addEventListener('DOMContentLoaded', () => {
            render();
        });
    </script>
</body>
</html>
